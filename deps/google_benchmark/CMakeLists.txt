IF (CMAKE_CROSSCOMPILING)
  CPMADDPACKAGE (
    NAME benchmark
    GITHUB_REPOSITORY google/benchmark
    VERSION 1.7.0
    OPTIONS "BENCHMARK_ENABLE_TESTING OFF"
            "HAVE_POSIX_REGEX 0"
            "HAVE_STEADY_CLOCK 0"
            "HAVE_STD_REGEX 0"
            "HAVE_GNU_POSIX_REGEX 0"
            "HAVE_THREAD_SAFETY_ATTRIBUTES 0"
  )
ELSE ()
  CPMADDPACKAGE (
    NAME benchmark
    GITHUB_REPOSITORY google/benchmark
    VERSION 1.7.0
    OPTIONS "BENCHMARK_ENABLE_TESTING OFF" "HAVE_GNU_POSIX_REGEX 0"
            "HAVE_THREAD_SAFETY_ATTRIBUTES 0"
  )
ENDIF ()

IF (benchmark_ADDED)
  SET_TARGET_PROPERTIES (benchmark PROPERTIES CXX_STANDARD 17)
ENDIF ()
